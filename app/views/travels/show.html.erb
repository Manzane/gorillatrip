<h1><%= t('.title') %></h1>
<p></p>


<%= t('.name') %> <%= @travel.name %>
<br>
<%= t('.duration') %> x <%= t('.days') %>
<br>
<%= t('.countries') %>
<hr>
<% @travel.countries.each do |country| %>
  <div>
    <p><strong><%= country.french_name %></strong></p>
<!--     Algo à revoir pour le display des durées par pays
      country.travel_countries.where(@travel == country.travel_countries.travel_id) -->
    <% if country.travel_countries.find_by(travel_id: @travel).start_date && country.travel_countries.find_by(travel_id: @travel).end_date %>
      <%= t('.from') %> <%= l country.travel_countries.find_by(travel_id: @travel).start_date %>
      <%= t('.to') %> <%= l country.travel_countries.find_by(travel_id: @travel).end_date %>
      <br>
      <p><%= t('.eq') %> <%= (country.travel_countries.find_by(travel_id: @travel).end_date - country.travel_countries.find_by(travel_id: @travel).start_date).to_i %> <%= t('.days') %></p>
    <% end %>
<!--     Temp: display de tous les visas pour exemple d'affichage
    mais travailler algo pour les filtrer en fonction de la durée -->
    <%= link_to edit_travel_travel_country_path(@travel, country.travel_countries.find_by(travel_id: @travel)) do %>
      <p><%= t('.edit') %></p>
    <% end %>

    <%= link_to travel_travel_country_path(@travel, country.travel_countries.find_by(travel_id: @travel)), method: :delete, data: { confirm: "Es-tu certain?" } do %>
      <p><%= t('.delete') %></p>
    <% end %>

    <p><%= t('.visas') %></p>
    <ul>
    <% country.visas.each do |visa| %>
    <li><%= visa.name %></li>
    <% end %>
    </ul>
<!--     Temp: display de tous les vaccins pour exemple d'affichage
    mais travailler algo -->

    <p><%= t('.vaccines') %></p>
    <ul>
    <% country.vaccines.each do |vaccine| %>
    <li><%= vaccine.name %></li>
    <% end %>
  </ul>
  </div>
  <hr>
<% end %>
<%= link_to new_travel_travel_country_path(@travel) do %>
  <p><%= t('.add') %></p>
<% end %>

<%= link_to edit_travel_path(@travel) do %>
  <p><%= t('.edit_global') %></p>
<% end %>

<%= link_to travel_path, method: :delete, data: { confirm: t('.confirmation') } do %>
  <p><%= t('.delete_global') %></p>
<% end %>



<%= link_to travels_path do %>
  <p><%= t('.back_dashboard') %></p>
<% end %>
